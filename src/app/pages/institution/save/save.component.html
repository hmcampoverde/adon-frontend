<form [formGroup]="form" (ngSubmit)="onSave()">
	<p-card [header]="(creation ? 'Crear' : 'Editar') + ' Empleado'">
		<p-panel [toggleable]="true">
			<ng-template pTemplate="header">
				<span class="flex align-items-center gap-2 w-full">
					<p-avatar icon="pi pi-user" shape="circle" size="large" />
					<span class="font-bold white-space-nowrap"> Información Personal </span>
				</span>
			</ng-template>

			<div class="grid formgrid p-fluid">
				<div class="field col-12 md:col-6">
					<label for="name" class="font-bold block mb-2">Nombre</label>
					<input
						autocomplete="off"
						formControlName="name"
						id="name"
						maxlength="100"
						pInputText
						placeholder="Ingrese nombre"
						type="text"
						[class.ng-dirty]="form.get('name').touched && form.get('name').invalid" />
					@if (form.get('name').touched && form.get('name').hasError('required')) {
						<small class="p-error block"> Campo Nombre es obligatorio</small>
					}
				</div>

				<div class="field col-12 md:col-6">
					<label for="amie" class="font-bold block mb-2">Amie</label>
					<input
						autocomplete="off"
						formControlName="amie"
						id="amie"
						maxlength="8"
						pInputText
						placeholder="Ingrese amie"
						type="text"
						[class.ng-dirty]="form.get('amie').touched && form.get('amie').invalid" />
					@if (form.get('amie').touched && form.get('amie').hasError('required')) {
						<small class="p-error block"> Campo Amie es obligatorio</small>
					}
				</div>

				<div class="field col-12 md:col-6">
					<label for="phone" class="font-bold block mb-2">Teléfono</label>
					<p-inputMask
						autocomplete="off"
						formControlName="phone"
						inputId="phone"
						mask="(999) 99 999 999"
						placeholder="Ingrese teléfono convencional"
						[class.ng-dirty]="form.get('phone')?.touched && form.get('phone')?.invalid" />
					@if (form.get('phone')?.touched && form.get('phone')?.hasError('required')) {
						<small class="p-error block"> Telefono es obligatorio </small>
					}
					<small>
						<i class="pi pi-info-circle mr-1 vertical-align-middle"></i>
						<span> Ejm. (593) 72 695 805 </span>
					</small>
				</div>

				<div class="field col-12 md:col-6">
					<label for="email" class="font-bold block mb-2">Email</label>
					<input
						autocomplete="off"
						formControlName="email"
						id="email"
						maxlength="75"
						placeholder="Ingrese email"
						pInputText
						[class.ng-dirty]="form.get('email').touched && form.get('email').invalid" />
					@if (form.get('email').touched && form.get('email').hasError('required')) {
						<small class="p-error block"> Campo Email es obligatorio </small>
					}
					@if (form.get('email').touched && form.get('email').hasError('email')) {
						<small class="p-error block"> Campo Email es invalido </small>
					}
				</div>

				<div class="field col-12">
					<label for="address" class="font-bold block mb-2">Dirección</label>
					<input
						autocomplete="off"
						formControlName="address"
						id="address"
						placeholder="Ingrese dirección"
						pInputText
						[class.ng-dirty]="form.get('address')?.touched && form.get('address')?.invalid" />
					@if (form.get('address')?.touched && form.get('address')?.hasError('required')) {
						<small class="p-error block"> Campo Dirección es obligatorio </small>
					}
				</div>
			</div>
		</p-panel>

		<ng-template pTemplate="footer">
			<div class="flex align-content-start flex-wrap">
				<p-button
					class="mr-2"
					icon="pi pi-plus"
					id="reset"
					label="Nuevo"
					[routerLink]="[route + '/create']"
					(onClick)="onReset()"
					type="button" />
				<p-button class="mr-2" icon="pi pi-save" label="Guardar" type="submit" [disabled]="form.invalid" />
				<p-button icon="pi pi-times" label="Cancelar" [routerLink]="[route]" severity="danger" type="button" />
			</div>
		</ng-template>
	</p-card>
</form>
